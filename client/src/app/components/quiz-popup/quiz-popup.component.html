<div class="quiz-container">
    <h2>Quiz</h2>

    <div *ngIf="!quizStarted" class="start-quiz">
        <button (click)="startQuiz()" class="button">Commencer le quiz</button>
    </div>

    <div *ngIf="quizStarted">

        <div *ngIf="currentQuestionIndex < questions.length">
            <h3>{{ questions[currentQuestionIndex].text }}</h3>
            <div class="options-column">
                <button *ngFor="let option of questions[currentQuestionIndex].options"
                    [class.selected]="selectedAnswer === option.text && !questions[currentQuestionIndex].answered"
                    [class.correct]="questions[currentQuestionIndex].answered && option.correct"
                    [class.incorrect]="questions[currentQuestionIndex].answered && !option.correct"
                    [disabled]="questions[currentQuestionIndex].answered" (click)="onOptionSelect(option.text)"
                    class="toggle-button">
                    {{ option.text }}
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="quizStarted" class="quiz-footer">
        <button (click)="endQuiz()" class="quit-button">Quitter</button>
        <button (click)="validateAnswer()" class="button">{{ buttonText }}</button>
    </div>
    <h4 *ngIf="quizStarted">Question {{ currentQuestionIndex + 1 }} sur {{ questions.length }}</h4>
</div>